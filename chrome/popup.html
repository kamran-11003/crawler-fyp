<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>UI Crawler</title>
	<style>
		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}

		body { 
			font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; 
			margin: 0; 
			padding: 15px; 
			width: 380px; 
			background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
			min-height: 100vh;
		}

		.container {
			background: white;
			border-radius: 12px;
			padding: 20px;
			box-shadow: 0 10px 30px rgba(0,0,0,0.2);
		}

		.header {
			text-align: center;
			margin-bottom: 20px;
		}

		.header h3 {
			color: #667eea;
			font-size: 20px;
			font-weight: 600;
			margin-bottom: 5px;
		}

		.header p {
			font-size: 12px;
			color: #6c757d;
		}

		.section {
			margin-bottom: 20px;
			padding: 15px;
			background: #f8f9fa;
			border-radius: 8px;
			border-left: 4px solid #667eea;
		}

		.section h4 {
			color: #495057;
			font-size: 14px;
			margin-bottom: 10px;
			display: flex;
			align-items: center;
			gap: 8px;
		}

		button { 
			background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
			color: #fff; 
			border: 0; 
			padding: 12px 16px; 
			border-radius: 8px; 
			cursor: pointer; 
			width: 100%; 
			font-weight: 500;
			transition: all 0.3s ease;
			margin-bottom: 8px;
		}

		button:hover {
			transform: translateY(-2px);
			box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
		}

		button:active {
			transform: translateY(0);
		}

		.btn-secondary {
			background: #6c757d;
		}

		.btn-secondary:hover {
			background: #5a6268;
			box-shadow: 0 5px 15px rgba(108, 117, 125, 0.4);
		}

		.btn-success {
			background: #28a745;
		}

		.btn-success:hover {
			background: #218838;
			box-shadow: 0 5px 15px rgba(40, 167, 69, 0.4);
		}

		.btn-danger {
			background: #dc3545;
		}

		.btn-danger:hover {
			background: #c82333;
			box-shadow: 0 5px 15px rgba(220, 53, 69, 0.4);
		}

		.btn-small {
			padding: 8px 12px;
			font-size: 12px;
		}

		.status { 
			font-size: 12px; 
			color: #0f172a; 
			background: #e2e8f0; 
			padding: 8px 12px; 
			border-radius: 6px; 
			margin-top: 8px; 
			word-break: break-word;
			border-left: 4px solid #667eea;
		}

		.row { 
			display: grid; 
			grid-template-columns: 1fr 1fr; 
			gap: 10px; 
			margin-top: 10px; 
		}

		.input { 
			width: 100%; 
			padding: 10px; 
			border-radius: 6px; 
			border: 1px solid #ced4da; 
			font-size: 14px;
			transition: border-color 0.3s ease;
		}

		.input:focus {
			outline: none;
			border-color: #667eea;
			box-shadow: 0 0 0 2px rgba(102, 126, 234, 0.2);
		}

		.chk { 
			display: flex; 
			align-items: center; 
			gap: 8px; 
			font-size: 13px; 
			color: #495057; 
			margin-top: 8px;
			padding: 8px;
			background: white;
			border-radius: 6px;
			border: 1px solid #e9ecef;
		}

		.chk input[type="checkbox"] {
			width: 16px;
			height: 16px;
			accent-color: #667eea;
		}

		.control-group {
			display: flex;
			align-items: center;
			gap: 10px;
			margin-bottom: 10px;
		}

		.control-group label {
			font-size: 12px;
			color: #6c757d;
			min-width: 80px;
		}

		.control-group input[type="range"] {
			flex: 1;
		}

		.stats {
			display: grid;
			grid-template-columns: 1fr 1fr;
			gap: 10px;
			margin-top: 10px;
		}

		.stat-item {
			background: white;
			padding: 10px;
			border-radius: 6px;
			text-align: center;
			border: 1px solid #e9ecef;
		}

		.stat-value {
			font-size: 18px;
			font-weight: 600;
			color: #667eea;
		}

		.stat-label {
			font-size: 10px;
			color: #6c757d;
			margin-top: 2px;
		}

		.progress-bar {
			width: 100%;
			height: 6px;
			background: #e9ecef;
			border-radius: 3px;
			overflow: hidden;
			margin-top: 10px;
		}

		.progress-fill {
			height: 100%;
			background: linear-gradient(90deg, #667eea, #764ba2);
			transition: width 0.3s ease;
			width: 0%;
		}

		.loading {
			display: flex;
			align-items: center;
			justify-content: center;
			gap: 10px;
			padding: 10px;
			color: #6c757d;
			font-size: 12px;
		}

		.spinner {
			width: 16px;
			height: 16px;
			border: 2px solid #f3f3f3;
			border-top: 2px solid #667eea;
			border-radius: 50%;
			animation: spin 1s linear infinite;
		}

		@keyframes spin {
			0% { transform: rotate(0deg); }
			100% { transform: rotate(360deg); }
		}

		.hidden {
			display: none;
		}

		.tabs {
			display: flex;
			margin-bottom: 15px;
			background: #f8f9fa;
			border-radius: 6px;
			padding: 4px;
		}

		.tab {
			flex: 1;
			padding: 8px 12px;
			text-align: center;
			font-size: 12px;
			cursor: pointer;
			border-radius: 4px;
			transition: all 0.3s ease;
		}

		.tab.active {
			background: white;
			color: #667eea;
			box-shadow: 0 2px 4px rgba(0,0,0,0.1);
		}

		.tab-content {
			display: none;
		}

		.tab-content.active {
			display: block;
		}
	</style>
</head>
<body>
	<div class="container">
		<div class="header">
			<h3>üîç UI Crawler</h3>
			<p>Advanced UI crawling with screenshot capture and graph visualization</p>
		</div>

		<div class="tabs">
			<div class="tab active" onclick="switchTab('crawl')">Crawl</div>
			<div class="tab" onclick="switchTab('visualize')">Visualize</div>
			<div class="tab" onclick="switchTab('settings')">Settings</div>
		</div>

		<!-- Crawl Tab -->
		<div id="crawl-tab" class="tab-content active">
			<div class="section">
				<h4>üìä Basic Crawling</h4>
				<button id="extract">Extract Current Page</button>
				<button id="crawl" class="btn-secondary">Crawl Multiple Pages</button>
			</div>

			<div class="section">
				<h4>‚öôÔ∏è Crawl Settings</h4>
				<div class="row">
					<input id="maxPages" class="input" type="number" min="1" max="50" value="10" placeholder="Max pages" />
					<input id="maxDepth" class="input" type="number" min="1" max="10" value="3" placeholder="Max depth" />
				</div>
				<label class="chk">
					<input id="sameOriginOnly" type="checkbox" checked />
					Same origin only
				</label>
			</div>

			<div class="section">
				<h4>üì∏ Screenshot Options</h4>
				<label class="chk">
					<input id="captureScreenshots" type="checkbox" checked />
					Capture screenshots
				</label>
				<label class="chk">
					<input id="detectStatsPages" type="checkbox" checked />
					Auto-detect stats pages
				</label>
				<label class="chk">
					<input id="fullPageScreenshots" type="checkbox" />
					Full page screenshots
				</label>
			</div>
		</div>

		<!-- Visualize Tab -->
		<div id="visualize-tab" class="tab-content">
			<div class="section">
				<h4>üìà Graph Visualization</h4>
				<button id="openVisualizer" class="btn-success">Open Graph Visualizer</button>
				<button id="loadGraph" class="btn-secondary">Load Graph Data</button>
			</div>

			<div class="section">
				<h4>üíæ Export Options</h4>
				<button id="downloadGraph" class="btn-secondary">Download Graph JSON</button>
				<button id="downloadScreenshots" class="btn-success">Download Screenshots</button>
			</div>

			<div class="section">
				<h4>üìä Current Stats</h4>
				<div class="stats" id="current-stats">
					<div class="stat-item">
						<div class="stat-value" id="current-nodes">-</div>
						<div class="stat-label">Pages</div>
					</div>
					<div class="stat-item">
						<div class="stat-value" id="current-edges">-</div>
						<div class="stat-label">Connections</div>
					</div>
					<div class="stat-item">
						<div class="stat-value" id="current-screenshots">-</div>
						<div class="stat-label">Screenshots</div>
					</div>
					<div class="stat-item">
						<div class="stat-value" id="current-stats-pages">-</div>
						<div class="stat-label">Stats Pages</div>
					</div>
				</div>
			</div>
		</div>

		<!-- Settings Tab -->
		<div id="settings-tab" class="tab-content">
			<div class="section">
				<h4>üéØ Element Detection</h4>
				<label class="chk">
					<input id="enhancedDetection" type="checkbox" checked />
					Enhanced element detection
				</label>
				<label class="chk">
					<input id="accessibilityScan" type="checkbox" checked />
					Accessibility scanning
				</label>
				<label class="chk">
					<input id="shadowDomSupport" type="checkbox" checked />
					Shadow DOM support
				</label>
			</div>

			<div class="section">
				<h4>‚ö° Performance</h4>
				<div class="control-group">
					<label>Timeout (ms):</label>
					<input id="timeout" class="input" type="number" min="1000" max="30000" value="5000" />
				</div>
				<div class="control-group">
					<label>Batch Size:</label>
					<input id="batchSize" class="input" type="number" min="1" max="20" value="5" />
				</div>
			</div>

			<div class="section">
				<h4>üîß Advanced</h4>
				<button id="resetSettings" class="btn-danger btn-small">Reset Settings</button>
				<button id="clearData" class="btn-danger btn-small">Clear All Data</button>
			</div>
		</div>

		<div id="status" class="status hidden"></div>
		<div id="progress" class="progress-bar hidden">
			<div class="progress-fill"></div>
		</div>
	</div>
	
	<script src="popup.js"></script>
</body>
</html>


